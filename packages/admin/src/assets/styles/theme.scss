/* 定义全局样式变量 */
:root {
  --primary-color: #409eff;

  /* === 登录页专用（保持不变）=== */
  --login-bg-light: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --login-bg-dark: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
  --card-bg-light: rgba(255, 255, 255, 0.95);

  /* === 后台通用（亮色）=== */
  --bg-color: #ffffff;
  --sidebar-bg: #ffffff;
  --main-bg: #f5f5f5; /* 比纯白柔和 */
  --text-primary: #2c3e50;
  --text-secondary: #6c757d;

  /* 同步 Element Plus（亮色） */
  --el-bg-color: var(--bg-color);
  --el-bg-color-page: var(--main-bg);
  --el-text-color-primary: var(--text-primary);
  --el-text-color-regular: var(--text-primary);
  --el-text-color-secondary: var(--text-secondary);
  --el-border-color: #e4e7ed;
}

html.dark {
  // @import 'https://cdn.jsdelivr.net/npm/highlight.js@11/styles/github-dark.css';
  /* === 登录页专用（保持不变）=== */
  --login-bg: var(--login-bg-dark);
  --card-bg-dark: rgba(30, 30, 46, 0.7); /* 深紫灰，带透明 */

  /* === 后台通用（暗色）——重点优化区域 === */
  --bg-color: #0f0f1b; /* 主背景：深蓝黑 */
  --sidebar-bg: #141523; /* 侧边栏：稍亮于背景，形成层次 */
  --main-bg: #181926; /* 内容区：介于 sidebar 和 bg 之间 */
  --text-primary: #e2e8f0; /* 主文字：浅灰白 */
  --text-secondary: #a0aec0; /* 次要文字：柔和灰 */

  /* Element Plus 暗色适配 */
  --el-bg-color: var(--sidebar-bg);
  --el-bg-color-page: var(--main-bg);
  --el-bg-color-overlay: rgba(30, 30, 46, 0.8); /* 下拉菜单 */
  --el-text-color-primary: var(--text-primary);
  --el-text-color-regular: var(--text-primary);
  --el-text-color-secondary: var(--text-secondary);
  --el-text-color-placeholder: var(--text-secondary);
  --el-border-color: rgba(148, 163, 184, 0.2);
  --el-fill-color: rgba(148, 163, 184, 0.1);
  --el-fill-color-light: rgba(148, 163, 184, 0.06);
  --el-fill-color-blank: transparent;

  /* 按钮、下拉等交互状态 */
  .el-button--text {
    color: var(--el-text-color-primary);
    &:hover {
      background-color: rgba(148, 163, 184, 0.1) !important;
      color: var(--el-text-color-primary) !important;
    }
  }

  .el-dropdown-menu__item {
    color: var(--el-text-color-regular);
    &:hover {
      background-color: rgba(148, 163, 184, 0.1);
      color: var(--el-text-color-primary);
    }
    &.is-disabled {
      color: var(--el-text-color-secondary);
    }
  }
}

/* 兼容旧引用 */
html:not(.dark) {
  --login-bg: var(--login-bg-light);
  --card-bg: var(--card-bg-light);

  .el-menu--vertical .el-menu-item,
  .el-menu--vertical .el-sub-menu__title {
    // 默认状态：无背景
    background-color: transparent;

    &:hover,
    &.is-active {
      // 使用非常浅的品牌色或中性灰
      background-color: #e6eeff !important; /* 柔和的蓝灰底 */
      color: var(--el-text-color-primary) !important; /* 保持主文字色，不变蓝 */
    }
  }

  // 如果你用了 collapse 模式下的 tooltip，也可以顺手优化
  .el-menu--collapse {
    .el-menu-item:hover {
      background-color: #f0f4ff !important;
    }
  }
}
html.dark {
  --card-bg: var(--card-bg-dark);
  --text-color: var(--text-primary);
  --n-text-color: var(--text-primary); /* 用于 Login.vue */
}
